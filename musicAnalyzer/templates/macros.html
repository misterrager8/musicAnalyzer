{% macro news_card(news) %}
<div class="card col-xl-4 border-0">
    <div class="card-body mb-4">
        <a class="font-custom" href="{{ news.url }}" target="_blank">{{ news.headline }}</a>
        <div class="small opacity-50 fst-italic">{{ news.timestamp.strftime('%b %d, %Y %I:%M %p') }}</div>
        {% if current_user.role == 'admin' %}
        <div class="mt-2">
            <a class="me-2" onclick="toggleDiv('editNews' + {{ news.id }})"><i class="bi bi-pen"></i></a>
            <a class="text-danger" onclick="toggleDiv('deleteNews' + {{ news.id }})"><i class="bi bi-trash3"></i></a>
            <a class="font-custom text-danger" onclick="deleteNews({{ news.id }})" id="deleteNews{{ news.id }}" style="display: none">Delete?</a>
        </div>
        <div class="mt-2" id="editNews{{ news.id }}" style="display: none">
            {{ edit_news_form(news) }}
        </div>
        {% endif %}
    </div>
</div>
{% endmacro %}

{% macro blog_card(blog) %}
<div class="card col-xl-4 border-0">
    <div class="card-body mb-4">
        <a class="font-custom" href="{{ url_for('blogs.blog', id_=blog.id) }}">{{ blog.title }}</a>

        <p class="small fst-italic opacity-50 mt-2">
            <span><i class="bi bi-person-fill"></i> {{ blog.users.email }}</span><br>
            <span><i class="bi bi-clock"></i> {{ blog.timestamp.strftime('%B %d, %Y') }}</span>
        </p>
        
        {% if blog.user_id == current_user.id or current_user.role == 'admin' %}
        <div class="mt-2">
            <a class="me-2" href="{{ url_for('blogs.editor', id_=blog.id) }}"><i class="bi bi-pen"></i></a>
            <a class="text-danger" onclick="toggleDiv('deleteBlog' + {{ blog.id }})"><i class="bi bi-trash3"></i></a>
            <a class="text-danger font-custom" id="deleteBlog{{ blog.id }}" style="display: none" onclick="deleteBlog({{ blog.id }})">Delete?</a>
        </div>
        {% endif %}
    </div>
</div>
{% endmacro %}

{% macro chart_card(entry) %}
<div class="border-bottom pb-2 mb-2">
    <div class="fst-italic fw-bold">{{ entry.title }}</div>
    <div>{{ entry.artist }}</div>
</div>
{% endmacro %}

{% macro login_form() %}
<form method="POST" action="{{ url_for('login') }}">
    <input autocomplete="off" placeholder="email" class="input-custom w-100 mb-2" name="email">
    <input autocomplete="off" placeholder="Password" class="input-custom w-100 mb-2" name="password" type="password">
    <button class="btn-custom w-100" type="submit">Log In</button>
</form>
{% endmacro %}

{% macro signup_form() %}
<form method="POST" action="{{ url_for('signup') }}">
    <input autocomplete="off" placeholder="email" class="input-custom w-100 mb-2" name="email">
    <input autocomplete="off" placeholder="Password" class="input-custom w-100 mb-2" name="password" type="password">
    <button class="btn-custom w-100" type="submit">Sign Up</button>
</form>
{% endmacro %}

{% macro add_blog_form() %}
<form action="{{ url_for('blogs.add_blog') }}" method="POST" class="input-group">
    <input onchange="suggestTitle()" autocomplete="off" placeholder="Title" class="input-custom" name="title">
    <button class="btn-custom" type="submit"><i class="bi bi-pen"></i> Create Blog</button>
</form>
{% endmacro %}

{% macro add_news_form() %}
<form onsubmit="event.preventDefault(); addNews();" class="input-group">
    <input onchange="suggestTitle()" autocomplete="off" placeholder="URL" class="input-custom" id="url">
    <input autocomplete="off" placeholder="Headline" class="input-custom flex-grow-1" id="headline">
    <button class="btn-custom" type="submit"><i class="bi bi-newspaper"></i> Add News</button>
</form>
{% endmacro %}

{% macro edit_news_form(news) %}
<form onsubmit="event.preventDefault(); editNews({{ news.id }});">
    <input value="{{ news.url }}" autocomplete="off" placeholder="URL" class="input-custom w-100 mb-2" id="url{{ news.id }}">
    <input value="{{ news.headline }}" autocomplete="off" placeholder="Headline" class="input-custom w-100 mb-2" id="headline{{ news.id }}">
    <button class="btn-custom w-100" type="submit"><i class="bi bi-pen"></i> Edit News</button>
</form>
{% endmacro %}